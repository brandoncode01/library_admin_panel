# Generated by Django 5.0.6 on 2024-05-22 18:42

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Author',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(default='Unknown', help_text="Author's name", max_length=80)),
                ('country', models.CharField(default='Unknown', help_text="Author's address", max_length=150)),
                ('age', models.IntegerField(help_text="Author's age", max_length=100)),
            ],
        ),
        migrations.CreateModel(
            name='Book',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text="Book's title", max_length=120)),
                ('ISBN', models.CharField(help_text="Book's ISBN", max_length=250)),
                ('description', models.TextField(help_text="Book's detailed description")),
                ('category', models.CharField(choices=[('FS', 'Fantasy'), ('DM', 'Drama'), ('TH', 'Thriller'), ('RM', 'Romance'), ('SF', 'Science Fiction'), ('CM', 'Comedy')], max_length=2)),
                ('available', models.IntegerField(help_text='Books available to take')),
                ('pub_date', models.DateTimeField(help_text='Date when book was published')),
                ('edited', models.DateTimeField(auto_now_add=True, help_text='Date when the book was edited')),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='library_book', to='library.author')),
            ],
            options={
                'ordering': ['pub_date', 'title'],
            },
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('username', models.CharField(help_text="Customer's name", max_length=80)),
                ('email', models.EmailField(help_text="Customer's email", max_length=100)),
                ('membership', models.DateTimeField(help_text='Customer membeship')),
            ],
            options={
                'indexes': [models.Index(fields=['username', 'email'], name='library_cus_usernam_17c302_idx')],
            },
        ),
        migrations.CreateModel(
            name='CustomerBook',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('borrowed', models.DateTimeField(auto_now=True, help_text='Date time when the book was taken by the customer')),
                ('returned', models.DateTimeField(default='not delivered', help_text='Date time when book was returned by the customer')),
                ('book', models.ForeignKey(help_text='Book ID', on_delete=django.db.models.deletion.CASCADE, to='library.book')),
                ('customer', models.ForeignKey(help_text='Customer Id', on_delete=django.db.models.deletion.CASCADE, to='library.customer')),
            ],
        ),
        migrations.AddIndex(
            model_name='book',
            index=models.Index(fields=['title', 'author'], name='library_boo_title_98f835_idx'),
        ),
        migrations.AddIndex(
            model_name='customerbook',
            index=models.Index(fields=['customer', 'borrowed'], name='library_cus_custome_d605df_idx'),
        ),
    ]
